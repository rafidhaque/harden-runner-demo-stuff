name: Harden Runner Demo - Supply Chain Test

on: [push, workflow_dispatch]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      # ‡ßß. ‡¶π‡¶æ‡¶∞‡ßç‡¶°‡ßá‡¶® ‡¶∞‡¶æ‡¶®‡¶æ‡¶∞ ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™ (Step Security)
      # ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶Ü‡¶Æ‡¶∞‡¶æ 'audit' ‡¶Æ‡ßã‡¶°‡ßá ‡¶ö‡¶æ‡¶≤‡¶æ‡¶¨‡ßã ‡¶¶‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡¶ø ‡¶π‡ßü‡•§
      - name: Harden Runner
        uses: step-security/harden-runner@v2
        with:
          egress-policy: audit

      # ‡ß®. ‡¶ï‡ßã‡¶° ‡¶ö‡ßá‡¶ï‡¶Ü‡¶â‡¶ü
      - name: Checkout Code
        uses: actions/checkout@v4

      # ‡ß©. ‡¶Ü‡¶∏‡¶≤ ‡¶ó‡ßÅ‡¶ó‡¶≤ ‡¶Æ‡¶æ‡¶Æ‡¶æ‡¶ï‡ßá ‡¶ï‡¶≤ (‡¶è‡¶ü‡¶æ ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶¨‡ßà‡¶ß ‡¶ï‡¶æ‡¶ú)
      - name: Call Google (Valid Task)
        run: |
          curl -I https://www.google.com
          echo "Google Mama is safe."

      # ‡ß™. üö® ‡¶∏‡ßá‡¶á ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø‡¶∂‡¶æ‡¶∏ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶® ‡¶ï‡¶≤ ‡¶ï‡¶∞‡¶æ üö®
      # ‡¶ñ‡ßá‡ßü‡¶æ‡¶≤ ‡¶ï‡¶∞: uses ‡¶è‡¶∞ ‡¶™‡¶∞ ‡¶§‡ßã‡¶∞ ‡¶ì‡¶á ‡¶®‡¶§‡ßÅ‡¶® ‡¶∞‡¶ø‡¶™‡ßã‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶¶‡¶ø‡¶¨‡¶ø
      # Format: username/repo-name@tag
      - name: Run The Trap
        uses: rafidhaque/fake-mali-action@v1
        with:
          username: 'Victim Mama'